/*
 html2canvas v0.30 <http://html2canvas.hertzen.com>
 Copyright (c) 2011 Niklas von Hertzen. All rights reserved.
 http://www.twitter.com/niklasvh

 Released under MIT License
*/
var html2canvas={logging:!1};html2canvas.log=function(a){html2canvas.logging&&window.console&&window.console.log&&window.console.log(a)};html2canvas.Util={};html2canvas.Util.backgroundImage=function(a){if(/data:image\/.*;base64,/i.test(a)||/^(-webkit|-moz|linear-gradient|-o-)/.test(a))return a;a.toLowerCase().substr(0,5)==='url("'?(a=a.substr(5),a=a.substr(0,a.length-2)):(a=a.substr(4),a=a.substr(0,a.length-1));return a};
html2canvas.Util.Bounds=function(a){var c={};if(a.getBoundingClientRect)return a=a.getBoundingClientRect(),c.top=a.top,c.bottom=a.bottom||a.top+a.height,c.left=a.left,c.width=a.width,c.height=a.height,c};html2canvas.Util.getCSS=function(a,c){return $(a).css(c)};html2canvas.Util.Extend=function(a,c){for(var i in a)a.hasOwnProperty(i)&&(c[i]=a[i]);return c};
html2canvas.Util.Children=function(a){var c;try{c=$(a).contents()}catch(i){html2canvas.log("html2canvas.Util.Children failed with exception: "+i.message),c=[]}return c};html2canvas.Generate={};
html2canvas.Generate.Gradient=function(a,c){function i(a){for(var e=-1,h="",j;e++<a.length;)if(j=a.charAt(e),j===")"){h+=j;n.push(h);for(h="";e++<a.length&&a.charAt(e)!==",";);}else h+=j}var h=document.createElement("canvas"),u=h.getContext("2d"),k,s=0,e=0,r=0,j=0,n=[],E;h.width=c.width;h.height=c.height;if(k=a.match(/-webkit-linear-gradient\((.*)\)/)){E=k[1].split(",",1)[0];i(k[1].substr(E.length+2));E=E.split(" ");for(k=0;k<E.length;k+=1)switch(E[k]){case "top":j=c.height;break;case "right":s=c.width;
break;case "bottom":e=c.height;break;case "left":r=c.width}}else if(k=a.match(/-webkit-gradient\(linear, (\d+)[%]{0,1} (\d+)[%]{0,1}, (\d+)[%]{0,1} (\d+)[%]{0,1}, from\((.*)\), to\((.*)\)\)/))s=k[1]*c.width/100,e=k[2]*c.height/100,r=k[3]*c.width/100,j=k[4]*c.height/100,n.push(k[5]),n.push(k[6]);else if(k=a.match(/-moz-linear-gradient\((\d+)[%]{0,1} (\d+)[%]{0,1}, (.*)\)/))s=k[1]*c.width/100,e=k[2]*c.width/100,r=c.width-s,j=c.height-e,i(k[3]);else return;r=u.createLinearGradient(s,e,r,j);j=1/(n.length-
1);s=0;for(e=n.length;s<e;s+=1)try{r.addColorStop(j*s,n[s])}catch(G){html2canvas.log(["failed to add color stop: ",G,"; tried to add: ",n[s],"; stop: ",s,"; in: ",a])}u.fillStyle=r;u.fillRect(0,0,c.width,c.height);u=new Image;u.src=h.toDataURL();return u};html2canvas.Generate.ListAlpha=function(a){var c="",i;do i=a%26,c=String.fromCharCode(i+64)+c,a/=26;while(a*26>26);return c};
html2canvas.Generate.ListRoman=function(a){var c=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],h="",u,k=c.length;if(a<=0||a>=4E3)return a;for(u=0;u<k;u+=1)for(;a>=i[u];)a-=i[u],h+=c[u];return h};html2canvas.Parse=function(a,c,i){function h(d,a,g){return g!==void 0&&g===!0?parseInt(html2canvas.Util.getCSS(d,a),10):html2canvas.Util.getCSS(d,a)}function u(d,a,g,e,h,j){j!=="transparent"&&(d.setVariable("fillStyle",j),d.fillRect(a,g,e,h),y+=1)}function k(d,a){switch(a){case "lowercase":return d.toLowerCase();case "capitalize":return d.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(d,a,g){if(d.length>0)return a+g.toUpperCase()});case "uppercase":return d.toUpperCase();default:return d}}function s(d){return d.replace(/^\s*/g,
"").replace(/\s*$/g,"")}function e(d,a,e){var e=e.ctx,j=h(d,"fontFamily",!1),c=h(d,"fontSize",!1),f=h(d,"color",!1),L=h(d,"textDecoration",!1),n=h(d,"textAlign",!1),m=h(d,"letterSpacing",!1),b,w,l=h(d,"fontWeight",!1),t=h(d,"fontStyle",!1),i=h(d,"fontVariant",!1),q=0;a.nodeValue=k(a.nodeValue,h(d,"textTransform",!1));if(s(a.nodeValue).length>0){if(L!=="none")if(A[j+"-"+c]!==void 0)w=A[j+"-"+c];else{w=o.createElement("div");var d=o.createElement("img"),v=o.createElement("span"),p;w.style.visibility=
"hidden";w.style.fontFamily=j;w.style.fontSize=c;w.style.margin=0;w.style.padding=0;H.appendChild(w);d.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";d.width=1;d.height=1;d.style.margin=0;d.style.padding=0;d.style.verticalAlign="baseline";v.style.fontFamily=j;v.style.fontSize=c;v.style.margin=0;v.style.padding=0;v.appendChild(o.createTextNode("Hidden Text"));w.appendChild(v);w.appendChild(d);p=d.offsetTop-v.offsetTop+1;w.removeChild(v);w.appendChild(o.createTextNode("Hidden Text"));
w.style.lineHeight="normal";d.style.verticalAlign="super";d={baseline:p,lineWidth:1,middle:d.offsetTop-w.offsetTop+1};A[j+"-"+c]=d;H.removeChild(w);w=d}n=n.replace(["-webkit-auto"],["auto"]);n=B.letterRendering===!1&&/^(left|right|justify|auto)$/.test(n)&&/^(normal|none)$/.test(m)?a.nodeValue.split(/(\b| )/):a.nodeValue.split("");switch(parseInt(l,10)){case 401:l="bold";break;case 400:l="normal"}e.setVariable("fillStyle",f);e.setVariable("font",i+" "+l+" "+t+" "+c+" "+j);e.setVariable("textAlign",
"left");j=a;for(c=0;c<n.length;c+=1){l=null;if(g.rangeBounds){if(L!=="none"||s(n[c]).length!==0)l=n[c],o.createRange?(b=o.createRange(),b.setStart(a,q),b.setEnd(a,q+l.length)):b=H.createTextRange(),b=b.getBoundingClientRect()?b.getBoundingClientRect():{}}else{if(typeof j.nodeValue!=="string")continue;t=j.splitText(n[c].length);i=j.parentNode;m=o.createElement("wrapper");d=j.cloneNode(!0);m.appendChild(j.cloneNode(!0));i.replaceChild(m,j);b=html2canvas.Util.Bounds(m);l=j.nodeValue;j=t;i.replaceChild(d,
m)}if(l!==null)t=b.left,i=b.bottom,m=e,s(l).length>0&&(m.fillText(l,t,i),y+=1);switch(L){case "underline":u(e,b.left,Math.round(b.top+w.baseline+w.lineWidth),b.width,1,f);break;case "overline":u(e,b.left,b.top,b.width,1,f);break;case "line-through":u(e,b.left,Math.ceil(b.top+w.middle+w.lineWidth),b.width,1,f)}q+=n[c].length}}}function r(d){return(d=c[d])&&d.succeeded===!0?d.img:!1}function j(d,a){var g=Math.max(d.left,a.left),e=Math.max(d.top,a.top);return{left:g,top:e,width:Math.min(d.left+d.width,
a.left+a.width)-g,height:Math.min(d.top+d.height,a.top+a.height)-e}}function n(d,a){if(!a)return this.zStack=new html2canvas.zContext(0);if(d!=="auto"){var g=new html2canvas.zContext(d);a.children.push(g);return g}return a}function E(d,a,g,e){for(var c=g.left,b=g.top,n=g.width,g=g.height,B,m,f,i,l,o=function(d){var a=[],g=["Top","Right","Bottom","Left"],e;for(e=0;e<4;e+=1)a.push({width:h(d,"border"+g[e]+"Width",!0),color:h(d,"border"+g[e]+"Color",!1)});return a}(d),d=0;d<4;d+=1)if(B=o[d],B.width>
0){m=c;f=b;i=n;l=g-o[2].width;switch(d){case 0:l=o[0].width;break;case 1:m=c+n-o[1].width;i=o[1].width;break;case 2:f=f+g-o[2].width;l=o[2].width;break;case 3:i=o[3].width}i={left:m,top:f,width:i,height:l};e&&(i=j(i,e));i.width>0&&i.height>0&&u(a,m,f,i.width,i.height,B.color)}return o}function G(d,a,g){var j=o.createElement("valuewrap"),c=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],n,f,b;n=0;for(f=
c.length;n<f;n+=1)b=c[n],j.style[b]=h(d,b,!1);j.style.borderColor="black";j.style.borderStyle="solid";j.style.display="block";j.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(d.type)||d.nodeName==="SELECT")j.style.lineHeight=h(d,"height",!1);j.style.top=a.top+"px";j.style.left=a.left+"px";a=o.createTextNode(d.nodeName==="SELECT"?d.options[d.selectedIndex].text:d.value);j.appendChild(a);H.appendChild(j);e(d,a,g);H.removeChild(j)}function I(d,a,g,e,j,c,h,n){var b=0,f=0;h-
g>0&&(b=h-g);n-e>0&&(f=n-e);d.drawImage(a,b,f,j-b,c-f,g+b,e+f,j-b,c-f);y+=1}function F(d,a,g,e,j,c,h){var h=Math.min(a.height,h),b,f;g.left-=Math.ceil(g.left/a.width)*a.width;for(f=e+g.left;f<c+e;)b=Math.floor(f+a.width)>c+e?c+e-f:a.width,I(d,a,f,j+g.top,b,h,e,j),f=Math.floor(f+a.width)}function f(d,a){var g=html2canvas.Util.Bounds(d),e=g.left,c=g.top,f=g.width,b=g.height,i,m=h(d,"backgroundColor",!1),k=h(d,"position",!1),w,l=h(d,"opacity",!1),t,z;a===void 0?(K={width:Math.max(Math.max(o.body.scrollWidth,
o.documentElement.scrollWidth),Math.max(o.body.offsetWidth,o.documentElement.offsetWidth),Math.max(o.body.clientWidth,o.documentElement.clientWidth)),height:Math.max(Math.max(o.body.scrollHeight,o.documentElement.scrollHeight),Math.max(o.body.offsetHeight,o.documentElement.offsetHeight),Math.max(o.body.clientHeight,o.documentElement.clientHeight))},a={opacity:1}):K={};w=n(h(d,"zIndex",!1),a.zIndex);t={ctx:new html2canvas.canvasContext(K.width||f,K.height||b),zIndex:w,opacity:l*a.opacity,cssPosition:k};
if(a.clip)t.clip=html2canvas.Util.Extend({},a.clip);if(B.useOverflow===!0&&/(hidden|scroll|auto)/.test(h(d,"overflow"))===!0&&/(BODY)/i.test(d.nodeName)===!1)t.clip=t.clip?j(t.clip,g):g;k=w.children.push(t);z=w.children[k-1].ctx;z.setVariable("globalAlpha",t.opacity);l=E(d,z,g);t.borders=l;M.test(d.nodeName)&&B.iframeDefault!=="transparent"&&(m=B.iframeDefault==="default"?"#efefef":B.iframeDefault);f={left:e+l[3].width,top:c+l[0].width,width:f-(l[1].width+l[3].width),height:b-(l[0].width+l[2].width)};
t.clip&&(f=j(f,t.clip));if(f.height>0&&f.width>0){u(z,f.left,f.top,f.width,f.height,m);var b=f,q=h(d,"backgroundImage",!1),v=h(d,"backgroundRepeat",!1).split(",")[0],p,x,A,C;!/data:image\/.*;base64,/i.test(q)&&!/^(-webkit|-moz|linear-gradient|-o-)/.test(q)&&(q=q.split(",")[0]);if(typeof q!=="undefined"&&/^(1|none)$/.test(q)===!1)if(q=html2canvas.Util.backgroundImage(q),m=r(q),p=(h(d,"backgroundPosition").split(",")[0]||"0 0").split(" "),p.length===1&&(x=p,p=[],p[0]=x,p[1]=x),p[0].toString().indexOf("%")!==
-1?(A=parseFloat(p[0])/100,x=b.width*A-m.width*A):x=parseInt(p[0],10),p[1].toString().indexOf("%")!==-1?(A=parseFloat(p[1])/100,p=b.height*A-m.height*A):p=parseInt(p[1],10),p={top:p,left:x},m)switch(v){case "repeat-x":F(z,m,p,b.left,b.top,b.width,b.height);break;case "repeat-y":q=b.left;v=b.top;x=b.height;A=Math.min(m.width,b.width);p.top-=Math.ceil(p.top/m.height)*m.height;for(C=v+p.top;C<x+v;)b=Math.floor(C+m.height)>x+v?x+v-C:m.height,I(z,m,q+p.left,C,A,b,q,v),C=Math.floor(C+m.height);break;case "no-repeat":q=
b.width-p.left;C=b.height-p.top;v=p.left;x=p.top;A=p.left+b.left;p=p.top+b.top;v<0?(v=Math.abs(v),A+=v,q=Math.min(b.width,m.width-v)):(q=Math.min(q,m.width),v=0);x<0?(x=Math.abs(x),p+=x,C=Math.min(b.height,m.height-x)):(C=Math.min(C,m.height),x=0);C>0&&q>0&&(z.drawImage(m,v,x,q,C,A,p,q,C),y+=1);break;default:p.top-=Math.ceil(p.top/m.height)*m.height;for(q=b.top+p.top;q<b.height+b.top;)v=Math.min(m.height,b.height+b.top-q),v=Math.floor(q+m.height)>v+q?v+q-q:m.height,q<b.top?(x=b.top-q,q=b.top):x=0,
F(z,m,p,b.left,q,b.width,v),x>0&&(p.top+=x),q=Math.floor(q+m.height)-x}else html2canvas.log("html2canvas: Error loading background:"+q)}switch(d.nodeName){case "IMG":t=d.getAttribute("src");(i=r(t))?(t=h(d,"paddingLeft",!0),f=h(d,"paddingTop",!0),m=h(d,"paddingRight",!0),b=h(d,"paddingBottom",!0),z.drawImage(i,0,0,i.width,i.height,e+t+l[3].width,c+f+l[0].width,g.width-(l[1].width+l[3].width+t+m),g.height-(l[0].width+l[2].width+f+b)),y+=1):html2canvas.log("html2canvas: Error loading <img>:"+t);break;
case "INPUT":/^(text|url|email|submit|button|reset)$/.test(d.type)&&d.value.length>0&&G(d,g,t);break;case "TEXTAREA":d.value.length>0&&G(d,g,t);break;case "SELECT":d.options.length>0&&G(d,g,t);break;case "LI":g=f;e=h(d,"listStylePosition",!1);l=h(d,"listStyleType",!1);c=h(d,"fontWeight");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(l)){z=$(d).index()+1;switch(l){case "decimal":i=z;break;case "decimal-leading-zero":i=
z.toString().length===1?"0"+z.toString():z.toString();break;case "upper-roman":i=html2canvas.Generate.ListRoman(z);break;case "lower-roman":i=html2canvas.Generate.ListRoman(z).toLowerCase();break;case "lower-alpha":i=html2canvas.Generate.ListAlpha(z).toLowerCase();break;case "upper-alpha":i=html2canvas.Generate.ListAlpha(z)}i+=". ";t=i;l=o.createElement("boundelement");l.style.display="inline";z=d.style.listStyleType;d.style.listStyleType="none";l.appendChild(o.createTextNode(t));d.insertBefore(l,
d.firstChild);t=html2canvas.Util.Bounds(l);d.removeChild(l);d.style.listStyleType=z;switch(c){case 401:c="bold";break;case 400:c="normal"}J.setVariable("fillStyle",h(d,"color",!1));J.setVariable("font",h(d,"fontVariant",!1)+" "+c+" "+h(d,"fontStyle",!1)+" "+h(d,"fontFize",!1)+" "+h(d,"fontFamily",!1));if(e==="inside")J.setVariable("textAlign","left"),g=g.left,e=t.bottom,c=J,s(i).length>0&&(c.fillText(i,g,e),y+=1)}break;case "CANVAS":t=h(d,"paddingLeft",!0),f=h(d,"paddingTop",!0),m=h(d,"paddingRight",
!0),b=h(d,"paddingBottom",!0),z.drawImage(d,0,0,d.width,d.height,e+t+l[3].width,c+f+l[0].width,g.width-(l[1].width+l[3].width+t+m),g.height-(l[0].width+l[2].width+f+b)),y+=1}return w.children[k-1]}function b(d,a){if(h(d,"display")!=="none"&&h(d,"visibility")!=="hidden"&&(a=f(d,a)||a,J=a.ctx,!M.test(d.nodeName))){var g=html2canvas.Util.Children(d),j,c,i;j=0;for(i=g.length;j<i;j+=1)c=g[j],c.nodeType===1?b(c,a):c.nodeType===3&&e(d,c,a)}}window.scroll(0,0);i=i||{};if(a===void 0)a=document.body;var g=
{rangeBounds:!1},B={iframeDefault:"default",ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1},y=0,A={},o=a.ownerDocument,M=RegExp("("+B.ignoreElements+")"),H=o.body,D,J,K,N,B=html2canvas.Util.Extend(i,B),c=c||{};if(o.createRange&&(D=o.createRange(),D.getBoundingClientRect)){i=o.createElement("boundtest");i.style.height="123px";i.style.display="block";H.appendChild(i);D.selectNode(i);D=D.getBoundingClientRect();D=D.height;if(D===123)g.rangeBounds=!0;H.removeChild(i)}i=f(a);D=
0;a=a.children;for(N=a.length;D<N;D+=1)b(a[D],i);return i};html2canvas.zContext=function(a){return{zindex:a,children:[]}};html2canvas.Preload=function(a,c){function i(a){f.href=a;a=f.protocol+f.host;return":"===a||a===r}function h(){html2canvas.log("html2canvas: start: images: "+e.numLoaded+" / "+e.numTotal+" (failed: "+e.numFailed+")");!e.firstRun&&e.numLoaded>=e.numTotal&&(typeof s.complete==="function"&&s.complete(e),html2canvas.log("Finished loading images: # "+e.numTotal+" (failed: "+e.numFailed+")"))}function u(a,b){var j,c=s.proxy,i,n=e[a];f.href=a;a=f.href;j="html2canvas_"+E;n.callbackname=j;c+=c.indexOf("?")>
-1?"&":"?";c+="url="+encodeURIComponent(a)+"&callback="+j;window[j]=function(a){a.substring(0,6)==="error:"?(n.succeeded=!1,e.numLoaded++,e.numFailed++,h()):(b.onload=function(){n.succeeded=!0;e.numLoaded++;h()},b.src=a);window[j]=void 0;try{delete window[j]}catch(g){}i.parentNode.removeChild(i);i=null;n.callbackname=void 0};E+=1;i=G.createElement("script");i.setAttribute("src",c);i.setAttribute("type","text/javascript");n.script=i;window.document.body.appendChild(i)}function k(a){var b=html2canvas.Util.Children(a),
c,f=b.length,i=!1;for(c=0;c<f;c+=1)k(b[c]);try{i=a.nodeType}catch(n){i=!1,html2canvas.log("html2canvas: failed to access some element's nodeType - Exception: "+n.message)}if(i===1||i===void 0)if((b=html2canvas.Util.getCSS(a,"backgroundImage"))&&b!=="1"&&b!=="none")b.substring(0,7)==="-webkit"||b.substring(0,3)==="-o-"||b.substring(0,4)==="-moz"?(a=html2canvas.Generate.Gradient(b,html2canvas.Util.Bounds(a)),a!==void 0&&(e[b]={img:a,succeeded:!0},e.numTotal++,e.numLoaded++,h())):(a=html2canvas.Util.backgroundImage(b.match(/data:image\/.*;base64,/i)?
b:b.split(",")[0]),j.loadImage(a))}var s={proxy:"http://html2canvas.appspot.com/",timeout:0},e={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},r,j,n,E=0,G=a.ownerDocument,I=G.images,F=I.length,f=G.createElement("a"),b;f.href=window.location.href;r=f.protocol+f.host;c=c||{};s=html2canvas.Util.Extend(c,s);a=a||G.body;j={loadImage:function(a){var b;if(a&&e[a]===void 0)a.match(/data:image\/.*;base64,/i)?(b=new Image,b.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),e[a]={img:b,succeeded:!0},e.numTotal++,
e.numLoaded++,h()):i(a)?(b=new Image,e[a]={img:b},e.numTotal++,b.onload=function(){e.numLoaded++;e[a].succeeded=!0;h()},b.onerror=function(){e.numLoaded++;e.numFailed++;e[a].succeeded=!1;h()},b.src=a):s.proxy&&(b=new Image,e[a]={img:b},e.numTotal++,u(a,b))},cleanupDOM:function(a){var b,j;if(!e.cleanupDone){a&&typeof a==="string"?html2canvas.log("html2canvas: Cleanup because: "+a):html2canvas.log("html2canvas: Cleanup after timeout: "+s.timeout+" ms.");for(j in e)if(e.hasOwnProperty(j)&&(b=e[j],typeof b===
"object"&&b.callbackname&&b.succeeded===void 0)){window[b.callbackname]=void 0;try{delete window[b.callbackname]}catch(c){}b.script&&b.script.parentNode&&(b.script.setAttribute("src","about:blank"),b.script.parentNode.removeChild(b.script));e.numLoaded++;e.numFailed++;html2canvas.log("html2canvas: Cleaned up failed img: '"+j+"' Steps: "+e.numLoaded+" / "+e.numTotal)}window.stop!==void 0?window.stop():document.execCommand!==void 0&&document.execCommand("Stop",!1);document.close!==void 0&&document.close();
e.cleanupDone=!0;a&&typeof a==="string"||h()}},renderingDone:function(){b&&window.clearTimeout(b)}};s.timeout>0&&(b=window.setTimeout(j.cleanupDOM,s.timeout));(new Date).getTime();this.log("html2canvas: Preload starts: finding background-images");e.firstRun=!0;k(a);this.log("html2canvas: Preload: Finding images");for(n=0;n<F;n+=1)j.loadImage(I[n].getAttribute("src"));e.firstRun=!1;this.log("html2canvas: Preload: Done.");e.numTotal===e.numLoaded&&h();return j};html2canvas.canvasContext=function(a,c){this.storage=[];this.width=a;this.height=c;this.fillRect=function(){this.storage.push({type:"function",name:"fillRect",arguments:arguments})};this.drawImage=function(){this.storage.push({type:"function",name:"drawImage",arguments:arguments})};this.fillText=function(){this.storage.push({type:"function",name:"fillText",arguments:arguments})};this.setVariable=function(a,c){this.storage.push({type:"variable",name:a,arguments:c})};return this};html2canvas.Renderer=function(a,c){function i(a){var e=[],c=[],a=a.children,h,k,r,f;h=0;for(r=a.length;h<r;h+=1)k=a[h],k.children&&k.children.length>0?(e.push(k),c.push(k.zindex)):s.push(k);c.sort(function(a,e){return a-e});a=0;for(h=c.length;a<h;a+=1){k=c[a];r=0;for(f=e.length;r<=f;r+=1)if(e[r].zindex===k){k=e.splice(r,1);i(k[0]);break}}}function h(a){i(a.zIndex);var c=e.getContext("2d"),h,r,u,F,f;e.width=k.width||a.ctx.width;e.height=k.height||a.ctx.height;a=c.fillStyle;c.fillStyle="#fff";c.fillRect(0,
0,e.width,e.height);c.fillStyle=a;h=0;for(r=s.length;h<r;h+=1){a=s.splice(0,1)[0];a.canvasPosition=a.canvasPosition||{};c.textBaseline="bottom";a.clip&&(c.save(),c.beginPath(),c.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),c.clip());if(a.ctx.storage){u=0;for(F=a.ctx.storage.length;u<F;u+=1)switch(f=a.ctx.storage[u],f.type){case "variable":c[f.name]=f.arguments;break;case "function":f.name==="fillRect"?c.fillRect(f.arguments[0],f.arguments[1],f.arguments[2],f.arguments[3]):f.name==="fillText"?
c.fillText(f.arguments[0],f.arguments[1],f.arguments[2]):f.name==="drawImage"&&f.arguments[8]>0&&f.arguments[7]&&c.drawImage(f.arguments[0],f.arguments[1],f.arguments[2],f.arguments[3],f.arguments[4],f.arguments[5],f.arguments[6],f.arguments[7],f.arguments[8])}}a.clip&&c.restore()}html2canvas.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj");return e}function u(a){i(a.zIndex);var c=r.createElementNS("http://www.w3.org/2000/svg","svg"),e=r.createElementNS("http://www.w3.org/2000/svg",
"defs"),h,u,F,f,b,g,B={},y,A=0;c.setAttribute("version","1.1");c.setAttribute("baseProfile","full");c.setAttribute("viewBox","0 0 "+Math.max(a.ctx.width,k.width)+" "+Math.max(a.ctx.height,k.height));c.setAttribute("width",Math.max(a.ctx.width,k.width)+"px");c.setAttribute("height",Math.max(a.ctx.height,k.height)+"px");c.setAttribute("preserveAspectRatio","none");c.appendChild(e);a=0;for(u=s.length;a<u;a+=1)if(f=s.splice(0,1)[0],f.canvasPosition=f.canvasPosition||{},f.ctx.storage){h=0;for(F=f.ctx.storage.length;h<
F;h+=1)switch(b=f.ctx.storage[h],b.type){case "variable":B[b.name]=b.arguments;break;case "function":b.name==="fillRect"?(g=r.createElementNS("http://www.w3.org/2000/svg","rect"),g.setAttribute("x",b.arguments[0]),g.setAttribute("y",b.arguments[1]),g.setAttribute("width",b.arguments[2]),g.setAttribute("height",b.arguments[3]),g.setAttribute("fill",B.fillStyle),c.appendChild(g)):b.name==="fillText"?(g=r.createElementNS("http://www.w3.org/2000/svg","text"),y=B.font.split(" "),g.style.fontVariant=y.splice(0,
1)[0],g.style.fontWeight=y.splice(0,1)[0],g.style.fontStyle=y.splice(0,1)[0],g.style.fontSize=y.splice(0,1)[0],g.setAttribute("x",b.arguments[1]),g.setAttribute("y",b.arguments[2]-(parseInt(g.style.fontSize,10)+3)),g.setAttribute("fill",B.fillStyle),g.style.dominantBaseline="text-before-edge",g.style.fontFamily=y.join(" "),y=r.createTextNode(b.arguments[0]),g.appendChild(y),c.appendChild(g)):b.name==="drawImage"&&b.arguments[8]>0&&b.arguments[7]&&(g=r.createElementNS("http://www.w3.org/2000/svg",
"clipPath"),g.setAttribute("id","clipId"+A),y=r.createElementNS("http://www.w3.org/2000/svg","rect"),y.setAttribute("x",b.arguments[5]),y.setAttribute("y",b.arguments[6]),y.setAttribute("width",b.arguments[3]),y.setAttribute("height",b.arguments[4]),g.appendChild(y),e.appendChild(g),g=r.createElementNS("http://www.w3.org/2000/svg","image"),g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.arguments[0].src),g.setAttribute("width",b.arguments[0].width),g.setAttribute("height",b.arguments[0].height),
g.setAttribute("x",b.arguments[5]-b.arguments[1]),g.setAttribute("y",b.arguments[6]-b.arguments[2]),g.setAttribute("clip-path","url(#clipId"+A+")"),g.setAttribute("preserveAspectRatio","none"),c.appendChild(g),A+=1)}}html2canvas.log("html2canvas: Renderer: SVG Renderer done - returning SVG DOM obj");return c}var k={width:null,height:null,renderer:"canvas"},s=[],e,r=document,k=html2canvas.Util.Extend(c,k);switch(k.renderer.toLowerCase()){case "canvas":e=r.createElement("canvas");if(e.getContext)return this.log("html2canvas: Renderer: using canvas renderer"),
h(a);break;case "svg":if(r.createElementNS)return this.log("html2canvas: Renderer: using SVG renderer"),u(a)}return this};