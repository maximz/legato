(function(){var aI=window,aH=document,aG=Math;function aF(k,j){return k.width=j}function aE(k,j){return k.position=j}function aD(k,j){return k.height=j}function aC(k,j){return k.zIndex=j}var aB="appendChild",aA="createElement",az="getCoordinates",ay="getView",ax="pushLatLngAlt",aw="setTimeout",au="style",at="addListener",ai="getFeatures",ah="InfoWindow",ag="maps",af="getPosition",ae="setStyleSelector",ad="earth",ac="prototype",ab="setGeometry",Z="substring",Y="parentNode",X="event";function R(j){if(!google||!google[ad]){throw"google.earth not loaded"}if(!google[ad].isSupported()){throw"Google Earth API is not supported on this system"}if(!google[ad].isInstalled()){throw"Google Earth API is not installed on this system"}this.l="http://maps.google.com/mapfiles/kml/paddle/red-circle.png";this.b=j;this.k=j.getDiv();this.d=!1;this.f="Earth";this.i=[];this.e={};this.j=null;this.g=0;aj(this);aJ(this)}aI.GoogleEarth=R;R.MAP_TYPE_ID="GoogleEarthAPI";R[ac].o=function(){return this.a};R[ac].getInstance=R[ac].o;function aj(k){var j=k.b,l={tileSize:new google[ag].Size(256,256),maxZoom:19,name:k.f,alt:k.f,getTile:function(o,n,p){return p[aA]("DIV")}};j.mapTypes.set("GoogleEarthAPI",l);j.setOptions({mapTypeControlOptions:{mapTypeIds:[google[ag].MapTypeId.ROADMAP,google[ag].MapTypeId.SATELLITE,"GoogleEarthAPI"]}});google[ag][X][at](j,"maptypeid_changed",function(){if(k.b.getMapTypeId()=="GoogleEarthAPI"){var n;k:{n=RegExp("title=['\"]?"+k.f+"[\"']?");for(var s=k.c[Y].childNodes,r=0,q;q=s[r];r++){if(n.test(q.innerHTML)){n=q;break k}}n=void 0}s=n;r=s[au].zIndex;q=k.c[Y].childNodes;for(var p=0,o;o=q[p];p++){o.__gme_ozi=o[au].zIndex,aC(o[au],0)}s.__gme_ozi=r;aC(k.c[au],aC(s[au],2000));s=k.h=aH[aA]("IFRAME");s.src="javascript:false;";s.scrolling="no";s.frameBorder="0";r=s[au];aC(r,-100000);aF(r,aD(r,"100%"));aE(r,"absolute");r.left=r.top=0;n[aB](s);k.c[au].display="";k.d=!0;k.a?G(k):ap(k)}else{ak(k)}})}function G(y){y.e={};v(y,!0);for(var x=y.a[ai]();x.getFirstChild();){x.removeChild(x.getFirstChild())}y.g++;for(var x=0,w;w=y.i[x];x++){google[ag][X].removeListener(w)}x={};w=m;for(var u=0,s;s=w[u];u++){x[s]=i(y,s)}for(w=0;u=x.Marker[w];w++){a(y,u)}for(w=0;u=x.Polygon[w];w++){var t=y,r=u,u=t.a;s=h(t,r);var q=u.createPolygon("");s[ab](q);t=g(t,r);s[ae](t);t=u.createLinearRing("");q.setOuterBoundary(t);for(var q=t[az](),r=r.getPath().getArray(),t=0,p=void 0;p=r[t];t++){q[ax](p.lat(),p.lng(),0)}u[ai]()[aB](s)}for(w=0;u=x.Polyline[w];w++){q=y;r=u;u=q.a;s=h(q,r);t=u.createLineString("");t.setTessellate(!0);s[ab](t);q=g(q,r);s[ae](q);q=t[az]();r=r.getPath().getArray();t=0;for(p=void 0;p=r[t];t++){q[ax](p.lat(),p.lng(),0)}u[ai]()[aB](s)}for(w=0;u=x.Rectangle[w];w++){var r=y,n=u,u=r.a,q=n.getBounds();s=q.getNorthEast();q=q.getSouthWest();t=h(r,n);t[ab](u.createPolygon(""));p=u.createLinearRing("");r=g(r,n);t[ae](r);r=p[az]();r[ax](s.lat(),s.lng(),0);r[ax](s.lat(),q.lng(),0);r[ax](q.lat(),q.lng(),0);r[ax](q.lat(),s.lng(),0);r[ax](s.lat(),s.lng(),0);t.getGeometry().setOuterBoundary(p);t.setName("placemark");u[ai]()[aB](t)}for(w=0;u=x.Circle[w];w++){p=y;n=u;u=p.a;s=n.getCenter();r=n.getRadius();q=h(p,n);q[ab](u.createPolygon(""));t=u.createLinearRing("");p=g(p,n);q[ae](p);for(p=0;p<25;p++){var o=s,z=r,n=14.4*p;z/=6378137;n*=aG.PI/180;var A=o.lat()*(aG.PI/180),o=o.lng()*(aG.PI/180),l=aG.cos(z),z=aG.sin(z),k=aG.sin(A),A=aG.cos(A),j=l*k+z*A*aG.cos(n),n=new google[ag].LatLng(aG.asin(j)/(aG.PI/180),(o+aG.atan2(z*A*aG.sin(n),l-k*j))/(aG.PI/180));t[az]()[ax](n.lat(),n.lng(),0)}q.getGeometry().setOuterBoundary(t);q.setName("placemark");u[ai]()[aB](q)}for(w=0;u=x.KmlLayer[w];w++){aq(y,u.getUrl())}for(w=0;u=x.GroundOverlay[w];w++){r=u.getBounds(),s=r.getNorthEast(),r=r.getSouthWest(),q=y.a,t=q.createGroundOverlay(""),t.setLatLonBox(q.createLatLonBox("")),t.getLatLonBox().setBox(s.lat(),r.lat(),s.lng(),r.lng(),0),t.setIcon(q.createIcon("")),t.getIcon().setHref(u.getUrl()),q[ai]()[aB](t)}}function v(k,j){var o=k.b.getCenter(),n=k.a.createLookAt("");n.setRange(aG.pow(2,27-k.b.getZoom()));n.setLatitude(o.lat());n.setLongitude(o.lng());n.setHeading(0);n.setAltitude(0);var l=k.a;j?(l.getOptions().setFlyToSpeed(5),l[ay]().setAbstractView(n),n.setTilt(15),l.getOptions().setFlyToSpeed(0.75),aI[aw](function(){l[ay]().setAbstractView(n)},200),aI[aw](function(){l.getOptions().setFlyToSpeed(1)},250)):l[ay]().setAbstractView(n)}function f(k,j){k[0]=="#"&&(k=k[Z](1,9));typeof j=="undefined"?j="FF":(j=parseInt(parseFloat(j)*255,10).toString(16),j.length==1&&(j="0"+j));return[j,k[Z](4,6),k[Z](2,4),k[Z](0,2)].join("")}function h(k,j){var l=k.g+"GEV3_"+j.__gme_id;k.e[l]=j;return k.a.createPlacemark(l)}function aq(k,j){var l=k.a;google[ad].fetchKml(l,j,function(n){n?l[ai]()[aB](n):aI[aw](function(){alert("Bad or null KML.")},0)})}function a(k,j){if(j[af]()){var p=k.a,o=h(k,j);j.getTitle()&&o.setName(j.getTitle());var l=p.createIcon("");j.getIcon()?l.setHref(j.getIcon()):l.setHref(k.l);var n=p.createStyle("");n.getIconStyle().setIcon(l);o[ae](n);l=p.createPoint("");l.setLatitude(j[af]().lat());l.setLongitude(j[af]().lng());o[ab](l);p[ai]()[aB](o);k.i.push(google[ag][X][at](j,"position_changed",function(){var r=k.g+"GEV3_"+j.__gme_id,q=k.e[r],r=k.a.getElementById(r).getGeometry(),q=q[af]();r.setLatitude(q.lat());r.setLongitude(q.lng())}))}}function g(s,r){var q=s.a.createStyle(""),p=q.getPolyStyle(),n=q.getLineStyle();n.setWidth(e(r,"strokeWeight",3));var o=e(r,"strokeOpacity",1),l=e(r,"fillOpacity",0.3),k=e(r,"strokeColor","#000000"),j=e(r,"fillColor","#000000");n.getColor().set(f(k,o));p.getColor().set(f(j,l));return q}function e(k,j,l){k=k.get(j);return typeof k=="undefined"?l:k}function ap(j){google[ad].createInstance(j.m,function(k){j.a=k;al(j);G(j)},function(k){b(j);j.b.setMapTypeId(google[ag].MapTypeId.ROADMAP);throw"Google Earth API failed to initialize: "+k})}function al(k){var j=k.a;j.getWindow().setVisibility(!0);var l=j.getNavigationControl();l.setVisibility(j.VISIBILITY_AUTO);l=l.getScreenXY();l.setYUnits(j.UNITS_INSET_PIXELS);l.setXUnits(j.UNITS_PIXELS);l=j.getLayerRoot();l.enableLayerById(j.LAYER_BORDERS,!0);l.enableLayerById(j.LAYER_ROADS,!0);google[ag][X][at](k.b,"GEInfoWindowOpened",function(n){if(k.d){var o=k.a.createHtmlStringBalloon("");o.setFeature(k.j);o.setContentString(n.getContent());k.a.setBalloon(o)}});google[ad].addEventListener(j.getGlobe(),"click",function(n){var r=n.getTarget(),q=k.e[r.getId()];if(q){n.preventDefault();for(var n=i(k,"InfoWindow"),p=0,o;o=n[p];p++){o.close()}k.j=r;google[ag][X].trigger(q,"click")}})}function ar(k){var j=k.a[ay]().copyAsLookAt(k.a.ALTITUDE_RELATIVE_TO_GROUND),l=j.getRange(),l=aG.round(27-aG.log(l)/aG.log(2));!k.b.getZoom()==l?k.b.setZoom(l-1):k.b.setZoom(l);k.b.panTo(new google[ag].LatLng(j.getLatitude(),j.getLongitude()))}function ak(j){j.d&&(ar(j),aI[aw](function(){v(j)},50),aI[aw](function(){b(j)},2200))}function b(k){for(var j=k.c[Y].childNodes,n=0,l;l=j[n];n++){l.__gme_ozi&&aC(l[au],l.__gme_ozi)}k.h[Y].removeChild(k.h);k.h=null;k.c[au].display="none";k.d=!1}function aJ(k){var j=k.k,n=k.c=aH[aA]("DIV");aE(n[au],"absolute");aF(n[au],0);aD(n[au],0);n.index=0;n[au].display="none";var l=k.n=aH[aA]("DIV");aF(l[au],j.clientWidth+"px");aD(l[au],j.clientHeight+"px");aE(l[au],"absolute");n[aB](l);j=k.m=aH[aA]("DIV");aE(j[au],"absolute");aF(j[au],"100%");aD(j[au],"100%");l[aB](j);k.b.controls[google[ag].ControlPosition.TOP_LEFT].push(n);google[ag][X][at](k.b,"resize",function(){var o=k.n[au],p=k.k;aF(o,p.clientWidth+"px");aD(o,p.clientHeight+"px")})}function i(k,j){var p=[],o=d[j],l;for(l in o){if(o.hasOwnProperty(l)){var n=o[l];n.get("map")==k.b&&p.push(n)}}return p}var d={};function am(k){var j=google[ag][k][ac];j.__gme_setMapOriginal=j.setMap;d[k]={};google[ag][k][ac].setMap=function(l){if(l){if(!this.__gme_id){this.__gme_id=c++,d[k][this.__gme_id]=this}}else{delete d[k][this.__gme_id],this.__gme_id=void 0}this.__gme_setMapOriginal(l)}}for(var m=["Marker","Polyline","Polygon","Rectangle","Circle","KmlLayer","GroundOverlay","InfoWindow"],c=0,av=m,an=0,ao;ao=av[an];an++){if(am(ao),ao=="InfoWindow"){google[ag][ah][ac].p=google[ag][ah][ac].open,d.InfoWindow={},google[ag][ah][ac].open=function(k,j){if(k){if(!this.__gme_id){this.__gme_id=c++,d[ah][this.__gme_id]=this}}else{delete d[ah][this.__gme_id],this.__gme_id=void 0}google[ag][X].trigger(k,"GEInfoWindowOpened",this);this.p(k,j)}}}})();